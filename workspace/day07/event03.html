<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포커스 이벤트</title>
    <!-- 포커스 이벤트 : 버튼을 눌렀을때 검사하여 문자를 출력하는 것 -->
</head>
<body>
    <form name="join-form">
        <div>
            <!--     -->
            <input type="text" name="id" placeholder="아이디" class="focus-out-check" autocomplete="off">
        </div>
        <p id="id-message" class="message"></p>
        <div>
            <input type="password" name="password" class="focus-out-check" placeholder="비밀번호">
        </div>
        <p id="password-message" class="message"></p>
    </form>
</body>
<script>
    const arInput = document.getElementsByClassName("focus-out-check");
    const arMessage = document.getElementsByClassName("message");
    const errorMessages = ["아이디를 입력해주세요", "비밀번호를 입력해주세요"];
    const messages = ["멋진 아이디네요!", "사용 가능한 비밀번호입니다."];

    for(let i=0; i<arInput.length; i++){
        // blur 포커스가 아웃되었을떄(커서가 다른족으로 갔을때)
        arInput[i].addEventListener("blur", function(){
            if(!this.value){
                arMessage[i].innerHTML = errorMessages[i];
                arMessage[i].style.color = "red";
                this.focus(); //트리거(이벤트 발생 함수)
            }else{
                arMessage[i].innerHTML = messages[i];
                arMessage[i].style.color = "blue";
            }
        });
    }
</script>
</html>